<!doctype html><html lang=zh dir=ltr class=dark><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>隨筆．關於掃描線 | Nyanyannya</title><meta name=generator content="Hugo Eureka 0.9.3"><link rel=stylesheet href=https://pixelcat31415.github.io/blog/css/eureka.min.20bf94c567492e2ea21b897b2a393ba2983300cfd37b3b5230fda8031e17e158c857d7836412680573ad3fb8bf13c24c.css><link rel=stylesheet href=https://pixelcat31415.github.io/blog/css/custom.min.c2e31c90f8a39864d5629307aade5b55274d6136c9ccfadcc74e713cc3974070.css><script defer src=https://pixelcat31415.github.io/blog/js/custom.min.875ea4498b8d9bd2a60fb29a1001fd9ad6e1b57892b66ef7cabd1dddf63f0ed9445c8abe0299bed48a8d26c53b664121.js></script>
<script defer src=https://pixelcat31415.github.io/blog/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js></script>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload='this.onload=null,this.rel="stylesheet"'><script defer type=text/javascript src=https://pixelcat31415.github.io/blog/js/fontawesome.min.d7a06596d5235d9f1b5059e0ae8884040d48f9219364c0e1651316fe993117293d949acaa248654110fb3ba464959bed.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><link rel=icon type=image/png sizes=32x32 href=https://pixelcat31415.github.io/blog/images/icon_hu4ecd239f579111d388d3334bfa697660_2793_32x32_fill_box_center_3.png><link rel=apple-touch-icon sizes=180x180 href=https://pixelcat31415.github.io/blog/images/icon_hu4ecd239f579111d388d3334bfa697660_2793_180x180_fill_box_center_3.png><meta name=description content="當初架站風風火火，一年多來冷冷清清，轉眼已經荒廢這裡十幾快二十個月了。 為什麼我想架站？ 當初我在 instagram 上開了帳號，分享一些小題目或寫題小心得，都不是什麼困難"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pixelcat31415.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"隨筆．關於掃描線","item":"https://pixelcat31415.github.io/blog/2024/01/thoughts-sweeping-lines/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pixelcat31415.github.io/blog/2024/01/thoughts-sweeping-lines/"},"headline":"隨筆．關於掃描線 | Nyanyannya","datePublished":"2024-01-19T06:34:38+08:00","dateModified":"2024-01-19T06:34:38+08:00","wordCount":1679,"publisher":{"@type":"Person","name":"PixelCat","logo":{"@type":"ImageObject","url":"https://pixelcat31415.github.io/blog/images/icon.png"}},"description":"當初架站風風火火，一年多來冷冷清清，轉眼已經荒廢這裡十幾快二十個月了。 為什麼我想架站？ 當初我在 instagram 上開了帳號，分享一些小題目或寫題小心得，都不是什麼困難"}</script><meta property="og:title" content="隨筆．關於掃描線 | Nyanyannya"><meta property="og:type" content="article"><meta property="og:image" content="https://pixelcat31415.github.io/blog/images/icon.png"><meta property="og:url" content="https://pixelcat31415.github.io/blog/2024/01/thoughts-sweeping-lines/"><meta property="og:description" content="當初架站風風火火，一年多來冷冷清清，轉眼已經荒廢這裡十幾快二十個月了。 為什麼我想架站？ 當初我在 instagram 上開了帳號，分享一些小題目或寫題小心得，都不是什麼困難"><meta property="og:locale" content="zh"><meta property="og:site_name" content="Nyanyannya"><meta property="article:published_time" content="2024-01-19T06:34:38+08:00"><meta property="article:modified_time" content="2024-01-19T06:34:38+08:00"><meta property="article:section" content="posts"><meta property="article:tag" content="隨筆"><body class="flex min-h-screen flex-col"><header class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"><div class="mx-auto w-full max-w-screen-xl"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");(storageColorScheme=="Auto"&&window.matchMedia("(prefers-color-scheme: light)").matches||storageColorScheme=="Light")&&document.getElementsByTagName("html")[0].classList.remove("dark")</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/blog class="me-6 text-primary-text text-xl font-bold">Nyanyannya</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/blog/about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">About</a>
<a href=/blog/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Posts</a></div><div class=flex><div class="relative pt-4 md:pt-0" hidden><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-moon"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>Light</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>Dark</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>Auto</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById("lightDarkMode");storageColorScheme=="Auto"?(element.firstElementChild.classList.remove("fa-moon"),element.firstElementChild.setAttribute("data-icon","adjust"),element.firstElementChild.classList.add("fa-adjust"),document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)})):storageColorScheme=="Light"&&(element.firstElementChild.classList.remove("fa-moon"),element.firstElementChild.setAttribute("data-icon","sun"),element.firstElementChild.classList.add("fa-sun")),document.addEventListener("DOMContentLoaded",()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8"><div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12"><div class="bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"><article class="prose post-article"><div class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center post-metadata"><div class="me-6 my-2"><i class="fas fa-calendar me-1"></i>
<span>2024-01-19</span></div><div class="me-6 my-2"><i class="fas fa-edit me-1"></i>
<span>2024-01-19</span></div><div class="me-6 my-2"><i class="fas fa-tags me-1"></i>
<a href=https://pixelcat31415.github.io/blog/tags/%E9%9A%A8%E7%AD%86/ class=hover:text-eureka>隨筆</a></div></div><h1 class=mb-4>隨筆．關於掃描線</h1><p class=post-article-description></p><hr><div class=post-article-content><p>當初架站風風火火，一年多來冷冷清清，轉眼已經荒廢這裡十幾快二十個月了。</p><p>為什麼我想架站？</p><p>當初我在 instagram 上開了帳號，分享一些小題目或寫題小心得，都不是什麼困難、冷僻、高深的知識，反而很多都是 well known 的。但後來沒那麼多時間寫字<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>，或是想分享的就那些，或是因為社交媒體的本質讓我獲得太高的關注度，開始太在意寫出來的東西如何，畏首畏尾，漸漸不寫了。那年校內賽我跌了一跤，又正逢開始準備學測的時間點，種種原因一氣之下把那個帳號廢了。</p><p>這半年接到 IOI camp 的講師工作，教基礎資結<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>，倒是有機會重新從頭梳理一次我對資料結構的理解。我原本就比較喜歡也比較擅長資料結構，過往一直會默默收集著關於「線段樹為什麼是二元樹、不是 $k$ 元樹？」「線段樹和樹堆差在哪？」「線段樹的懶人標記和懶人答案<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>的關係是什麼？」一類的想法。沒什麼特別，很多選手都能回答，知道這些也對競賽成績不會有什麼實質幫助，頂多有自娛之用。</p><p>編著講義和投影片，我寫到掃描線和離線算法，升起許多自作多情的念頭。</p><blockquote><p>什麼是掃描線？</p><p>對於高維的東西，沒辦法用資料結構一口氣維護。枚舉某個維度，剩下的低維度的資料就有辦法維護了。說個例子吧，學過掃描線的都會算平面上矩形聯集面積——二維平面沒辦法一次數有幾處非零，若是枚舉一個維度，剩下一個維度變成序列，就能輕鬆用線段樹維護了。</p><p>一瞬間我想到了劉慈欣的三體<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>。</p><p>解題的我就像個二維人，多想掙脫 z 座標從側面一眼望盡整個平面，但是那是貪婪的。記憶體的限制讓視野被限縮在狹隘的一維序列，我只能抄寫二維平面上的一維切片，走一步抄一筆，直到我抄下了很多很多切片，我驕傲地說，我讀懂這個平面了，這片花園有 $10^{12}$ 棵樹。</p><p>你問，在座標 $(18692, 34406)$ 上那朵花，能不能畫給我看看？我兩手一攤不會了。你接連提了 $5 \times 10^5$ 個問題，我措手不及，只能逐一抄下來，回家慢慢梳理、把每個問題分門別類寫整齊，再走過一次整個平面，總算把你要的答案收集齊全了。我一股腦的說，你剛才第一個問題問了這個，答案原來是這個、第二個問題、第三個問題、第五十萬個問題。
你搖搖頭，這些答案來得不夠即時。</p><p>我這麼想著。</p><p>在題目裡我太習慣把掃描線當作時間線。時間線掃過不同維度，我儘管挑最容易解題的維度，按下播放鍵，答案就會自己靠攏。現實生活也是一種時間線，時間一邊推進，我費盡力氣維護 GPA、維護競程、維護人際、維護我作為生物的生命。假如現實時間是一個維度，那些應該要做的許多件事情是另一個維度，這個世界要我們做的，就是強制在線同時維護這麼多任務，但為什麼不能枚舉另外一個維度，一次專心處理一種一輩子份量的任務？為什麼不能當個三維人，旁觀者清地一口氣看清楚未來會怎麼走？這一題，甚至沒人幫我們當 online judge。</p></blockquote><p>是了，也許這個網站的任務，就是紀錄這種轉瞬即逝的一念之間。沒有學術價值、沒有教育意義，就只是某個路人半夜思緒飛蕩的隨筆。像是小孩去沙灘玩撿到貝殼，不怎麼好看、不怎麼實用、佔空間又礙眼，卻還是多想撿回家，好像這片貝殼多珍貴多稀罕。像這樣的寫下點什麼的衝動，正是我一開始執筆的契機。</p><p>所以，就讓我任性點，就把這個角落當作我的塗鴉牆吧？</p><h2 id=後記許願欄>後記：許願欄</h2><p>希望能寫下這學期的大一上修課心得，好多人都在發，我也希望能為這半年來第一次的大學體驗留下一點紀錄。</p><p>希望能完整的重編一次基礎資結講義，把那些來不及說的、沒空間說的都說清楚。也許未來甚至還可以繼續擴編。</p><p>依然希望能寫點關於 IOI 2023 的心得，在記憶力退化以前、在回憶風化以前。</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>或是這件事不新奇了不願意挪時間寫字？&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>仔細想想才發現也只有基礎資結教的線段樹、Treap 之類算是我比較有心得的，其他主題一概沒什麼深入研究，真是慚愧。明年估計著是要失業了。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>我自己對線段樹上維護的一切答案的稱呼，像是區間極值、區間和一類。跟負責處理區間操作的懶人標記相對，負責回答區間詢問的。好像一直沒聽說有什麼公認的稱呼，姑且讓我這樣指稱吧。&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>我少數看過的、也是我最喜歡的小說。真想多讀點這種科幻小說。&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></article><div class=post-tags><div class=mt-4><span><i class="fas fa-tags me-1" style=width:20px></i>
標籤：</span>
<a href=https://pixelcat31415.github.io/blog/tags/%E9%9A%A8%E7%AD%86/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#隨筆</a></div><div class=mb-4></div></div><div class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"><div><span class="text-primary-text block font-bold">prev</span>
<a href=https://pixelcat31415.github.io/blog/2022/08/vimrc-for-cp/ class=block>筆記．競程向 vimrc</a></div><div class="mt-4 md:mt-0 md:text-right"><span class="text-primary-text block font-bold">next</span>
<a href=https://pixelcat31415.github.io/blog/2024/02/courses-review-2023fall/ class=block>大一上修課心得（2023 Fall）</a></div></div></div><div class=col-span-2><div class="bg-secondary-bg rounded sticky-toc"><div class="px-6 pt-6"><h1 class=toc-title>隨筆．關於掃描線</h1></div><div class="sticky-toc hidden px-6 py-4 lg:block toc-content"><nav id=TableOfContents><ul><li><a href=#後記許願欄>後記：許願欄</a></li></ul></nav></div></div><script>window.addEventListener("DOMContentLoaded",()=>{enableStickyToc()})</script></div></div></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text"></p></div></div></footer></body></html>